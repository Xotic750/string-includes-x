{"version":3,"sources":["../src/string-includes-x.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,MAAoB,WAApB;AACA,OAAO,QAAP,MAAqB,aAArB;AACA,OAAO,KAAP,MAAkB,aAAlB;AACA,OAAO,sBAAP,MAAmC,4BAAnC;AAEA,IAAM,EAAE,GAAG,GAAG,QAAd;AACA,IAAM,cAAc,GAAG,OAAO,EAAP,KAAc,UAAd,IAA4B,EAAnD;AAEA,IAAI,SAAJ;;AAEA,IAAI,cAAJ,EAAoB;AAClB,MAAI,GAAG,GAAG,OAAO,CAAC,IAAR,CAAa,KAAb,EAAoB,cAApB,EAAoC,GAApC,CAAV;AACA,EAAA,SAAS,GAAG,GAAG,CAAC,KAAhB;;AAEA,MAAI,SAAJ,EAAe;AACb,IAAA,GAAG,GAAG,OAAO,CAAC,IAAR,CAAa,KAAb,EAAoB,cAApB,EAAoC,GAApC,EAAyC,QAAzC,CAAN;AACA,IAAA,SAAS,GAAG,GAAG,CAAC,KAAJ,KAAc,KAAd,IAAuB,GAAG,CAAC,KAAJ,KAAc,KAAjD;AACD;;AAED,MAAI,SAAJ,EAAe;AACb,IAAA,GAAG,GAAG,OAAO,CAAC,IAAR,CAAa,GAAb,EAAkB,cAAlB,EAAkC,GAAlC,CAAN;AACA,IAAA,SAAS,GAAG,GAAG,CAAC,KAAJ,KAAc,KAAd,IAAuB,GAAG,CAAC,KAAJ,KAAc,IAAjD;AACD;;AAED,MAAI,SAAJ,EAAe;AACb,IAAA,GAAG,GAAG,OAAO,CAAC,IAAR,CAAa,IAAb,EAAmB,cAAnB,EAAmC,GAAnC,CAAN;AACA,IAAA,SAAS,GAAG,GAAG,CAAC,KAAhB;AACD;AACF;AAED;;;;;;;;;;;;;;;;AAcA,IAAI,SAAJ;;AAEA,IAAI,SAAJ,EAAe;AACb,EAAA,SAAS,GAAG,SAAS,QAAT,CAAkB,MAAlB,EAA0B,YAA1B,EAAwC;AAClD,QAAM,IAAI,GAAG,CAAC,YAAD,CAAb;;AAEA,QAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB;AACA,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,SAAS,CAAC,CAAD,CAAnB;AACD;;AAED,WAAO,cAAc,CAAC,KAAf,CAAqB,MAArB,EAA6B,IAA7B,CAAP;AACD,GATD;AAUD,CAXD,MAWO;AAAA,MACE,OADF,GACa,MAAM,CAAC,SADpB,CACE,OADF;;AAGL,EAAA,SAAS,GAAG,SAAS,QAAT,CAAkB,MAAlB,EAA0B,YAA1B,EAAwC;AAClD,QAAM,GAAG,GAAG,KAAK,CAAC,sBAAsB,CAAC,MAAD,CAAvB,CAAjB;;AAEA,QAAI,QAAQ,CAAC,YAAD,CAAZ,EAA4B;AAC1B,YAAM,IAAI,SAAJ,CAAc,qCAAd,CAAN;AACD;;AAED,QAAM,IAAI,GAAG,CAAC,KAAK,CAAC,YAAD,CAAN,CAAb;;AAEA,QAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB;AACA,MAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,SAAS,CAAC,CAAD,CAAnB;AACD,KAZiD,CAclD;;;AACA,WAAO,OAAO,CAAC,KAAR,CAAc,GAAd,EAAmB,IAAnB,MAA6B,CAAC,CAArC;AACD,GAhBD;AAiBD;;AAED,IAAM,GAAG,GAAG,SAAZ;AAEA,eAAe,GAAf","file":"string-includes-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport isRegExp from 'is-regexp-x';\nimport toStr from 'to-string-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\n\nconst ni = ''.includes;\nconst nativeIncludes = typeof ni === 'function' && ni;\n\nlet isWorking;\n\nif (nativeIncludes) {\n  let res = attempt.call('/a/', nativeIncludes, /a/);\n  isWorking = res.threw;\n\n  if (isWorking) {\n    res = attempt.call('abc', nativeIncludes, 'a', Infinity);\n    isWorking = res.threw === false && res.value === false;\n  }\n\n  if (isWorking) {\n    res = attempt.call(123, nativeIncludes, '2');\n    isWorking = res.threw === false && res.value === true;\n  }\n\n  if (isWorking) {\n    res = attempt.call(null, nativeIncludes, 'u');\n    isWorking = res.threw;\n  }\n}\n\n/**\n * This method determines whether one string may be found within another string,\n * returning true or false as appropriate.\n *\n * @param {string} string - The target string.\n * @throws {TypeError} If target is null or undefined.\n * @param {string} searchString - A string to be searched for within the\n *  target string.\n * @throws {TypeError} If searchString is a RegExp.\n * @param {number} [position] -The position within the string at which to begin\n *  searching for searchString.(defaults to 0).\n * @returns {boolean} `true` if the given string is found anywhere within the\n *  search string; otherwise, `false` if not.\n */\nlet $includes;\n\nif (isWorking) {\n  $includes = function includes(string, searchString) {\n    const args = [searchString];\n\n    if (arguments.length > 2) {\n      /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n      args[1] = arguments[2];\n    }\n\n    return nativeIncludes.apply(string, args);\n  };\n} else {\n  const {indexOf} = String.prototype;\n\n  $includes = function includes(string, searchString) {\n    const str = toStr(requireObjectCoercible(string));\n\n    if (isRegExp(searchString)) {\n      throw new TypeError('\"includes\" does not accept a RegExp');\n    }\n\n    const args = [toStr(searchString)];\n\n    if (arguments.length > 2) {\n      /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n      args[1] = arguments[2];\n    }\n\n    // Somehow this trick makes method 100% compat with the spec.\n    return indexOf.apply(str, args) !== -1;\n  };\n}\n\nconst inc = $includes;\n\nexport default inc;\n"]}